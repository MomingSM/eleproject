<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- 引入 Bootstrap -->
    <link href="css/bootstrap.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/animate.css">
    <link rel="stylesheet" href="css/font-awesome.css">
    <link rel="stylesheet" href="css/custom.css">
    <!-- HTML5 Shim 和 Respond.js 用于让 IE8 支持 HTML5元素和媒体查询 -->
    <!-- 注意： 如果通过 file://  引入 Respond.js 文件，则该文件无法起效果 -->
    <!--[if lt IE 9]>          <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>          <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>       <![endif]-->

</head>
<body>
<div id="app">
    <topbanner>
        <div slot="location" class="topbannerinfo text-white font-weight-bold">
            <i class="fa fa-location-arrow"></i>大连河口软件园 <i class="fa fa-caret-down "></i>
        </div>
        <div slot="content">
            <div class="input-group mb-0 mt-0 col-10 offset-1">
                <div class="input-group-prepend">
                    <span class="input-group-text"><i class="fa fa-search"></i></span>
                </div>

                    <input type="text" class="form-control" placeholder="搜索饿了么商家、商品名称" style="padding-left: 30px">

            </div>
        </div>
    </topbanner>
    <div style="height: 6000px;background-color:red"></div>
    <maincpn></maincpn>
    <backtotop></backtotop>
</div>


<!-- 主页面顶部信息栏模板-->
<template id="topbannertepm">
    <div class="topbannertepm">
        <slot name="location"></slot>
        <slot name="content"></slot>
    </div>
</template>
<!-- 页面底部主导航栏的模板-->
<template id="maintemp">
    <div class="container-fluid fixed-bottom maintemp text-muted text-center">
        <div class="row">
            <h6 class="col-3"><i class="fa fa-home"></i>首页</h6>
            <h6 class="col-3"><i class="fa fa-compass"></i>发现</h6>
            <h6 class="col-3"><i class="fa fa-file-text-o"></i>订单</h6>
            <h6 class="col-3"><i class="fa fa-user-o"></i>我的</h6>
        </div>
    </div>
</template>

<!-- 返回顶部组件的模板-->
<template id="backtotop">
    <transition enter-active-class="animated fadeIn backtotop">
        <div class="backtotop" v-show="topDistance>100" @click="backtotop">
            <i class="fa fa-arrow-up"></i>
        </div>
    </transition>
</template>


<!-- jQuery (Bootstrap 的 JavaScript 插件需要引入 jQuery) -->
<script src="js/jquery-3.3.1.js"></script>
<!-- 包括所有已编译的插件 -->
<script src="js/bootstrap.js"></script>
<script src="js/vue.js"></script>
<script src="js/vue-resource.js"></script>
<script src="js/vue-router.js"></script>
<script src="js/custom.js"></script>

<script>
    //---------------------------------组件创建区--------------------------------------
    // 创建底部主菜单栏组件
    let maincpn = Vue.extend({
       template:'#maintemp'
    });
    // 创建返回顶部组件
    let backtopcpn = Vue.extend({
        template:'#backtotop',
        data:function () {
            return {
                topDistance:0    
            }
        },
        mounted(){
            window.addEventListener('scroll',this.getTopDistance)
            
        },
        methods:{
            getTopDistance:function () {
                this.topDistance = document.documentElement.scrollTop || document.body.scrollTop || window.pageYOffset;
                
            },
            backtotop:function () {
                let timeCounter = setInterval(function (){
                    if(document.documentElement.scrollTop>0||document.body.scrollTop>0||window.pageYOffset>0) {
                        document.documentElement.scrollTop -= 10;
                        document.body.scrollTop -= 10;
                        window.pageYOffset -= 10;
                    }else {
                        clearInterval(timeCounter);
                    }
                    // 控制台测试行
                    console.log("~~~~~~~~~~~~~~");
                },5);
            }
        }
    });
    // 创建主页面顶部组件
    let topbanner = Vue.extend({
        template:'#topbannertepm',
        data:function () {
            return {
                topDistance:0
            }
        },
        mounted(){
            window.addEventListener('scroll',this.getTopDistance)
        },
        methods:{
            getTopDistance:function () {
                this.topDistance = document.documentElement.scrollTop || document.body.scrollTop || window.pageYOffset;
                if(this.topDistance >40){
                    $(".topbannerinfo").css("display","none");
                    $(".topbannertepm").addClass("fixed-top");
                }else{
                    $(".topbannerinfo").css("display","block");
                    $(".topbannertepm").removeClass("fixed-top");
                }
            },

        }
    });
    // ---------------------------组件注册区---------------------------------
    let maincpntt = Vue.component('maincpn', maincpn);
    let backtoptt = Vue.component('backtotop', backtopcpn);
    let topbannercpn = Vue.component('topbanner',topbanner);








    const vm = new Vue({
        el: "#app", /* */
        data: {}
    });

</script>

</body>
</html>